(this["webpackJsonpbadge-users"]=this["webpackJsonpbadge-users"]||[]).push([[0],{34:function(e,a,t){e.exports=t(64)},39:function(e,a,t){},40:function(e,a,t){},45:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){},49:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){},62:function(e,a,t){},63:function(e,a,t){},64:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(32),l=t.n(s),c=(t(39),t(8)),i=t(2),m=t(11),o=t(12),u=t(14),d=t(13),f=(t(40),function(){return n.a.createElement("nav",{className:"nav-menu"},n.a.createElement("li",{className:"nav-li"},n.a.createElement(c.b,{to:"/user-badges",className:"nav-li__item"},"Inicio")),n.a.createElement("li",{className:"nav-li"},n.a.createElement(c.b,{to:"/user-badges/register",className:"nav-li__item"},"Crear")),n.a.createElement("li",{className:"nav-li"},n.a.createElement(c.b,{to:"/user-badges/list",className:"nav-li__item"},"Listar")))}),b=(t(45),function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(m.a)(this,t),(r=a.call(this,e)).state={},r}return Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement(f,null),n.a.createElement("div",{className:"container__info"},n.a.createElement("h1",{className:"title"},"Insignias de usuarios"),n.a.createElement("p",{className:"text"},"Aplicaci\xf3n de reactjs simple"),n.a.createElement("p",{className:"text"},"Crea, lista y edita insignias de"),n.a.createElement("p",{className:"text"},"diferentes usuarios"),n.a.createElement("div",{className:"info__btn"},n.a.createElement(c.b,{to:"/user-badges/register",className:"btn"},"Nuevo Usuario"),n.a.createElement(c.b,{to:"/user-badges/list",className:"btn"},"Listar Usuario"))))}}]),t}(r.Component)),v=t(18),h=t.n(v),p=t(23),g=t(17),N=t(7),E=(t(47),function(e){return n.a.createElement("form",{action:"",className:"form",onSubmit:e.submit},n.a.createElement("div",{className:"form__group"},n.a.createElement("label",{htmlFor:"firstname"},"Nombre"),n.a.createElement("input",{type:"text",name:"firstName",id:"firstname",placeholder:"Nombre",onChange:e.change,value:e.formValues.firstName})),n.a.createElement("div",{className:"form__group"},n.a.createElement("label",{htmlFor:"lastname"},"Apellido"),n.a.createElement("input",{type:"text",name:"lastName",id:"lastname",placeholder:"Apellido",onChange:e.change,value:e.formValues.lastName})),n.a.createElement("div",{className:"form__group"},n.a.createElement("label",{htmlFor:"email"},"Correo"),n.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Correo",onChange:e.change,value:e.formValues.email})),n.a.createElement("div",{className:"form__group"},n.a.createElement("label",{htmlFor:"titulo"},"Titulo Profesional"),n.a.createElement("input",{type:"text",name:"jobTitle",id:"titulo",placeholder:"Titulo Profesiona",onChange:e.change,value:e.formValues.jobTitle})),n.a.createElement("div",{className:"form__group"},n.a.createElement("button",{type:"button",name:"avatar",className:"btn btn-info",onClick:e.changeAvatar},"Imagen Aleatoria"),n.a.createElement("button",{type:"button",className:"btn btn-info",onClick:e.userRandom},"Usuario Aleatorio")),n.a.createElement("div",{className:"form__group check"},e.success&&n.a.createElement("div",{className:"btn btn-primary"},e.success),e.error&&n.a.createElement("div",{className:"btn btn-danger"},"Campos Vacios")),n.a.createElement("div",{className:"form__group"},n.a.createElement("button",{className:"btn btn-primary",onClick:e.click},"Guardar Usuario")))}),j=(t(48),function(e){return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card__body"},n.a.createElement("div",{className:"card__body--title"},n.a.createElement("img",{src:e.avatar,alt:""}),n.a.createElement("h1",null,e.firstName," ",e.lastName)),n.a.createElement("div",{className:"card__body--info"},n.a.createElement("p",null,e.jobtitle),n.a.createElement("p",null,e.email))),n.a.createElement("div",{className:"card__footer"},"#BadgeUser"))}),_=(t(49),function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){return Object(m.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"lds-grid"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))}}]),t}(r.Component)),O=t(16),k=t.n(O);k.a.initializeApp({apiKey:"AIzaSyBsXP1sLxcXQDGjBJIL-8nkLacqFAmnZ-0",authDomain:"badgeusers.firebaseapp.com",databaseURL:"https://badgeusers.firebaseio.com",projectId:"badgeusers",storageBucket:"badgeusers.appspot.com",messagingSenderId:"450021519231",appId:"1:450021519231:web:eefcdd3bf15a02ec13f44a",measurementId:"G-C99S4YKMGB"});var C=k.a.database().ref().child("badges"),y=(t(60),function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(m.a)(this,t),(r=a.call(this,e)).handleChange=function(e){r.setState({form:Object(N.a)(Object(N.a)({},r.state.form),{},Object(g.a)({},e.target.name,e.target.value)),error:!1,success:!1})},r.handleChangeAvatar=function(e){e.preventDefault();var a=Math.floor(1e5*Math.random());r.setState({form:Object(N.a)(Object(N.a)({},r.state.form),{},Object(g.a)({},e.target.name,"https://www.gravatar.com/avatar/".concat(a,"?d=identicon")))})},r.handleClick=function(e){e.preventDefault(),""!==r.state.form.firstName&&""!==r.state.form.lastName&&""!==r.state.form.email&&""!==r.state.form.jobTitle?(C.push().set(r.state.form),r.setState({success:"Usuario Registrado"}),r.cleanForm()):r.setState({error:!0})},r.handleSubmit=function(e){e.preventDefault()},r.handleValiteForm=function(){""!==r.state.form.firstName&&""!==r.state.form.lastName&&""!==r.state.form.email&&""!==r.state.form.jobTitle?(C.push().set(r.state.form),r.setState({success:!0}),r.cleanForm()):r.setState({error:!0})},r.cleanForm=function(){r.setState({form:{id:"",firstName:"",lastName:"",email:"",jobTitle:"",avatar:"https://www.gravatar.com/avatar/e74e87d40e55b9ff9791c78892e55cb7?d=identicon"}})},r.handleUserRandom=Object(p.a)(h.a.mark((function e(){var a,t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0,error:null}),e.prev=1,e.next=4,fetch("https://randomuser.me/api/");case 4:return a=e.sent,e.next=7,a.json();case 7:t=e.sent,n=t.results[0],r.setState({loading:!1,form:Object(N.a)(Object(N.a)({},r.state.form),{},{firstName:n.name.first,lastName:n.name.last,email:n.email,avatar:n.picture.medium})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),r.setState({loading:!0,error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),r.state={form:{id:"",firstName:"",lastName:"",email:"",jobTitle:"",avatar:"https://www.gravatar.com/avatar/e74e87d40e55b9ff9791c78892e55cb7?d=identicon"},data:[],loading:!1,success:!1,error:!1},r}return Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.state.loading?n.a.createElement(_,null):n.a.createElement("div",{className:"register"},n.a.createElement(f,null),n.a.createElement("div",{className:"register__img"}),n.a.createElement("div",{className:"register__form"},n.a.createElement(j,{firstName:this.state.form.firstName||"Nombre",lastName:this.state.form.lastName||"Apellido",email:this.state.form.email||"correo@gmail.com",jobtitle:this.state.form.jobTitle||"Titulo_Profesional",avatar:this.state.form.avatar}),n.a.createElement(E,{change:this.handleChange,formValues:this.state.form,click:this.handleClick,changeAvatar:this.handleChangeAvatar,submit:this.handleSubmit,success:this.state.success,error:this.state.error,userRandom:this.handleUserRandom})))}}]),t}(r.Component)),S=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(m.a)(this,t),(r=a.call(this,e)).handleClick=function(e){r.props.deleteUser(e)},r.state={},r}return Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.props.badges.map((function(a){return n.a.createElement("li",{className:"card__item",key:a.id},n.a.createElement("div",{className:"card__item--img"},n.a.createElement("img",{src:a.avatar,alt:"avatar por defecto"})),n.a.createElement("div",{className:"card__item--info"},n.a.createElement("h1",null,a.firstName," ",a.lastName),n.a.createElement("p",null,a.jobTitle),n.a.createElement("span",null,a.email)),n.a.createElement("div",{className:"card__item--btns"},n.a.createElement(c.b,{to:"/user-badges/edit/".concat(a.id),className:"btn"},"Editar"),n.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleClick(a.id)}},"Eliminar")))}))}}]),t}(r.Component),w=(t(61),function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(m.a)(this,t),(r=a.call(this,e)).database=function(){var e=r.state.badges;r.band=!0,C.on("child_added",(function(a){e.push({firstName:a.val().firstName,lastName:a.val().lastName,email:a.val().email,jobTitle:a.val().jobTitle,avatar:a.val().avatar,id:a.key}),r.band&&r.setState({badges:e})})),C.on("child_removed",(function(a){e.forEach((function(t,r){t.id===a.key&&(console.log(t.id),e.splice(r,1))})),r.band&&r.setState({badges:e})}))},r.handleDeleteUser=function(e){k.a.database().ref("badges").child(e).remove()},r.state={form:{id:"",firstName:"",lastName:"",email:"",jobTitle:"",avatar:""},badges:[],badgesNew:[]},r.band=!1,r}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.database()}},{key:"componentDidUpdate",value:function(e,a){a.badges!==this.state.badges&&this.setState({badges:this.state.badges})}},{key:"componentWillUnmount",value:function(){this.band=!1}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(f,null),n.a.createElement("div",{className:"container__list"},n.a.createElement("div",{className:"container__list--group"},n.a.createElement("div",{className:"group__btn"},n.a.createElement(c.b,{to:"/user-badges/register",className:"btn btn-primary"},"Nuevo Usuario")),n.a.createElement("ul",{className:"group__list"},n.a.createElement(S,{badges:this.state.badges,deleteUser:this.handleDeleteUser})))))}}]),t}(r.Component)),x=(t(62),function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(e){var r;return Object(m.a)(this,t),(r=a.call(this,e)).database=Object(p.a)(h.a.mark((function e(){var a,t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0,error:null}),a=r.props.match.params.id,e.prev=2,e.next=5,k.a.database().ref("/badges/"+a).once("value");case 5:t=e.sent,r.setState({loading:!1,form:{id:r.props.match.params.id,firstName:t.val().firstName,lastName:t.val().lastName,email:t.val().email,jobTitle:t.val().jobTitle,avatar:t.val().avatar}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r.setState({loading:!1,error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),r.handleChange=function(e){r.setState({form:Object(N.a)(Object(N.a)({},r.state.form),{},Object(g.a)({},e.target.name,e.target.value)),error:!1,success:!1})},r.handleChangeAvatar=function(e){e.preventDefault();var a=Math.floor(1e5*Math.random());r.setState({form:Object(N.a)(Object(N.a)({},r.state.form),{},Object(g.a)({},e.target.name,"https://www.gravatar.com/avatar/".concat(a,"?d=identicon")))})},r.handleClick=function(e){e.preventDefault(),""!==r.state.form.firstName&&""!==r.state.form.lastName&&""!==r.state.form.email&&""!==r.state.form.jobTitle?(k.a.database().ref("/badges/"+r.props.match.params.id).set(r.state.form),r.setState({success:"Usuario Actualizado"})):r.setState({error:!0})},r.handleSubmit=function(e){e.preventDefault()},r.handleValiteForm=function(){""!==r.state.form.firstName&&""!==r.state.form.lastName&&""!==r.state.form.email&&""!==r.state.form.jobTitle?(k.a.database().ref("/badges/"+r.props.match.params.id).set(r.state.form),r.setState({success:!0})):r.setState({error:!0})},r.cleanForm=function(){r.setState({form:{id:"",firstName:"",lastName:"",email:"",jobTitle:"",avatar:"https://www.gravatar.com/avatar/e74e87d40e55b9ff9791c78892e55cb7?d=identicon"}})},r.handleUserRandom=Object(p.a)(h.a.mark((function e(){var a,t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://randomuser.me/api/");case 2:return a=e.sent,e.next=5,a.json();case 5:t=e.sent,n=t.results[0],r.setState({form:Object(N.a)(Object(N.a)({},r.state.form),{},{firstName:n.name.first,lastName:n.name.last,email:n.email,avatar:n.picture.medium})});case 8:case"end":return e.stop()}}),e)}))),r.state={form:{id:"",firstName:"",lastName:"",email:"",jobTitle:"",avatar:""},loading:!1,success:!1,error:!1},r}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.database()}},{key:"componentDidUpdate",value:function(e,a){}},{key:"render",value:function(){return this.state.loading?n.a.createElement(_,null):n.a.createElement("div",{className:"register"},n.a.createElement(f,null),n.a.createElement("div",{className:"register__img"}),n.a.createElement("div",{className:"register__form"},n.a.createElement(j,{firstName:this.state.form.firstName||"Nombre",lastName:this.state.form.lastName||"Apellido",email:this.state.form.email||"correo@gmail.com",jobtitle:this.state.form.jobTitle||"Titulo_Profesional",avatar:this.state.form.avatar}),n.a.createElement(E,{change:this.handleChange,formValues:this.state.form,click:this.handleClick,changeAvatar:this.handleChangeAvatar,submit:this.handleSubmit,success:this.state.success,error:this.state.error,userRandom:this.handleUserRandom})))}}]),t}(r.Component));t(63);var T=function(){return n.a.createElement(c.a,null,n.a.createElement(i.c,null,n.a.createElement(i.a,{exact:!0,path:"/user-badges/register",component:y}),n.a.createElement(i.a,{exact:!0,path:"/user-badges/edit/:id",component:x}),n.a.createElement(i.a,{exact:!0,path:"/user-badges/list",component:w}),n.a.createElement(i.a,{exact:!0,path:"/user-badges",component:b})))};l.a.render(n.a.createElement(T,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.776f432b.chunk.js.map